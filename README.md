# YANDEX SHRI 2018 (Старостин Евгений Валерьевич)

### Запустить сервер можно двумя способами: 
1. **С помощью ts-node**  
`npm run start:ts` - запустить локальный сервер на 8000 порту.  
2. **Скомилировать в js**  
`npm run build` - скомпилировать код из typecript в javascript.  
`npm run start` - запустить локальный сервер на 8000 порту.  

### Структура   
**./src** - код на TypeScript  
**./build** - код на JavaScript после компиляции  
**./data** - JSON с данными  

### 8. ДЗ - «Архитектура»
В рамках ДЗ по архитектуре добавил новый роут для сохранения/загрузки данных из Store:
- GET /api/state - получить состояние  
- POST /api/state - сохранить состояние  
В частности при переключении между вкладками события и видеонаблюдение текущая страница записывается в Store и отправляется на сервер. При обновлении страницы данные считываются с сервера и открывается последняя выбранная вкладка.  
___

### 4. ДЗ - «Node JS»
Для удобства состыковки с фронтом залил сервер на VPS — http://vds.evstar.ru:8000/status  
Ссылка на сайт — http://www.evstar.ru/  

API корректно обрабатывает запросы:

- *GET /status* — возвращает uptime сервера в формате 00:00:00
- *GET /api/events* — возвращает JSON с событиями {"events": [...]}
- *GET /api/events?type=info:critical&page=2&limit=2* — возвращается отфильтрованный список событий, поля type, page и limit не обязательные. Если указана страница, но не указан лимит, то берется лимит по умолчанию - 10. В ответе также отправляется общее количество событий, чтобы на странице можно было отобразить, сколько всего страниц.  
- *POST /api/events* (в body необязательные поля info, page, limit) — ответ аналогичен GET запросу
